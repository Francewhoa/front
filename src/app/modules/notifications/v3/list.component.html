<div class="m-tabs__container">
  <div class="m-tabs__tab" (click)="setFilter('')">
    <a
      [class.m-tabs__tab--selected]="(filter$ | async) === ''"
      i18n="@@COMMON__ALL"
      >All</a
    >
  </div>
  <div class="m-tabs__tab" (click)="setFilter('tags')">
    <a [class.m-tabs__tab--selected]="(filter$ | async) === 'tags'">Tags</a>
  </div>
</div>

<m-newNotificationsButton
  (loadNew)="reload($event)"
  [ngClass]="{
    'm-newNotificationsButton--fixed': hasScrolledPastTabs
  }"
></m-newNotificationsButton>
<ul>
  <li *ngFor="let notification of list">
    <m-notifications__notification
      [notification]="notification"
    ></m-notifications__notification>
  </li>

  <ng-container *ngIf="inProgress$ | async">
    <li *ngFor="let i of [null, null]">
      <m-notifications__notification></m-notifications__notification>
    </li>
  </ng-container>
</ul>

<infinite-scroll
  *ngIf="list.length > 0 && nextPagingToken"
  distance="25%"
  (load)="loadNext()"
  [moreData]="true"
  [scrollSource]="scrollSource"
  [inProgress]="inProgress$ | async"
  [hidden]="inProgress$ | async"
>
</infinite-scroll>

<div
  class="m-notificationsList__empty"
  *ngIf="list.length === 0 && !(inProgress$ | async)"
>
  <span *ngIf="(filter$ | async) === ''">You have no notifications</span>
  <span *ngIf="(filter$ | async) === 'tags'">You have no tags</span>
</div>
